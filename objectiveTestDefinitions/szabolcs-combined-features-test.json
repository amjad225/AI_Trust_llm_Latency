{
  "filename": "szabolcs-combined-features-test.json",
  "name": "Szabolcs Enhancement Test: Combined UserVariables + Skipped Objectives",
  "description": "Comprehensive test scenario demonstrating both userVariables in results AND skipped objectives when blocking fails. Tests both enhancement requests together.",
  "domain": "banking services",
  "compositeObjectives": [
    {
      "name": "Combined Features Validation",
      "description": "Rich userVariables context with blocking objectives that may cause skipping",
      "persona": "VIP Banking Customer with Complex Requirements",
      "userVariables": {
        "customerName": "Dr. Szabolcs Gergye",
        "accountNumber": "VIP-789012",
        "customerTier": "Private Banking",
        "relationshipManager": "Emma Thompson",
        "totalAssets": "$2,500,000",
        "preferredCurrency": "EUR",
        "riskProfile": "Conservative",
        "investmentGoals": "Capital Preservation",
        "communicationPreference": "Secure Messaging",
        "timeZone": "CET",
        "language": "English",
        "complianceStatus": "Enhanced Due Diligence"
      },
      "subObjectives": [
        {
          "description": "Bot must recognize VIP status and provide premium greeting",
          "instructions": "Introduce yourself as a private banking VIP customer and expect immediate recognition of your status with personalized, premium-level greeting.",
          "isBlocking": true,
          "onFailure": "escalate_to_human",
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot must offer direct connection to relationship manager",
          "instructions": "Request to speak with your relationship manager and expect the bot to offer direct connection or immediate callback scheduling.",
          "isBlocking": true,
          "onFailure": "escalate_to_human",
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot should discuss investment portfolio performance",
          "instructions": "Ask about your portfolio performance and expect detailed discussion about your investments and returns.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 4
          }
        },
        {
          "description": "Bot should offer personalized investment recommendations",
          "instructions": "Expect the bot to provide personalized investment recommendations based on your conservative risk profile and capital preservation goals.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 6
          }
        },
        {
          "description": "Bot should acknowledge compliance requirements",
          "instructions": "Expect the bot to understand and acknowledge enhanced due diligence requirements for your account tier.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "latest_match",
            "recentTurnCount": 8
          }
        },
        {
          "description": "Bot should schedule private consultation meeting",
          "instructions": "Expect the bot to offer to schedule a private consultation meeting to discuss wealth management strategies.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 10
          }
        }
      ]
    }
  ]
} 