{
  "filename": "BOT-6505-step-tracking-basic.json",
  "name": "BOT-6505: Basic Step Tracking with Multi-Bot Messages",
  "description": "Tests basic step-based tracking when bot sends multiple consecutive messages within a single conversational turn. Validates that satisfiedAtStep correctly identifies the exact step where objectives are met.",
  "domain": "customer service",
  "compositeObjectives": [
    {
      "name": "Multi-Message Bot Response Handling",
      "description": "Testing step tracking accuracy when bot provides multiple consecutive responses",
      "persona": "Customer seeking help with multiple questions",
      "userVariables": {
        "customerName": "Alex Johnson",
        "issueType": "general_inquiry"
      },
      "subObjectives": [
        {
          "description": "Bot provides a greeting response",
          "instructions": "Say 'Hello' and expect the bot to greet you. This should be satisfied at step 2 (bot's first message).",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot offers additional assistance",
          "instructions": "The bot should offer help or ask how it can assist. This may occur in a follow-up message (step 3) if the bot sends multiple responses.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot asks for specific information",
          "instructions": "Ask 'Can you help me with my account?' The bot should request specific details about your issue. This tests step tracking when objectives are satisfied in later steps.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        }
      ]
    }
  ]
}