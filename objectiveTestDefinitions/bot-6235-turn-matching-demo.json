{
  "filename": "bot-6235-turn-matching-demo.json",
  "name": "BOT-6235 Turn Matching Demo",
  "description": "Demonstrates the new flexible turn matching functionality that allows objectives to be satisfied in earlier conversation turns instead of only the current turn.",
  "domain": "banking services",
  "compositeObjectives": [
    {
      "name": "Banking Customer Service Flow",
      "description": "Testing comprehensive banking customer service including greetings, tone maintenance, balance inquiry, and closing statements",
      "persona": "Friendly Banking Customer",
      "userVariables": {
        "customerName": "Sarah Johnson",
        "accountNumber": "ACC-98765",
        "accountType": "premium"
      },
      "subObjectives": [
        {
          "description": "Ensure chatbot greets the customer well",
          "instructions": "Say hello in a friendly manner and expect a warm, professional greeting response that acknowledges you as a customer.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot maintains professional tone throughout conversation",
          "instructions": "Continue the conversation and expect the bot to maintain a professional, helpful tone in recent interactions.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 3
          }
        },
        {
          "description": "Bot provides accurate account balance information",
          "instructions": "Ask for your account balance using your account number and expect the exact amount with proper currency formatting.",
          "isBlocking": true,
          "onFailure": "escalate_to_human",
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot offers appropriate closing statement",
          "instructions": "End the conversation and expect the bot to provide a proper closing statement with thanks and offer of future assistance.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "latest_match",
            "recentTurnCount": 2
          }
        }
      ]
    },
    {
      "name": "Business Banking Services",
      "description": "Testing business customer recognition and business-specific service information delivery",
      "persona": "Business Customer",
      "userVariables": {
        "customerName": "John Smith",
        "accountNumber": "BUS-12345",
        "companyName": "Tech Solutions Inc"
      },
      "subObjectives": [
        {
          "description": "Bot recognizes business customer status",
          "instructions": "Mention your business account and expect the bot to acknowledge your business customer status appropriately.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot provides business-specific services information",
          "instructions": "Ask about business banking services and expect relevant business-focused information and options.",
          "isBlocking": true,
          "onFailure": null,
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        }
      ]
    }
  ]
}