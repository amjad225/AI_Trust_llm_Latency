{
  "filename": "comprehensive-turn-matching-demo.json",
  "name": "Comprehensive Turn Matching Demo",
  "description": "Demonstrates all aspects of the flexible turn matching system with realistic banking scenarios that showcase different scopes, strategies, and use cases.",
  "domain": "banking services",
  "compositeObjectives": [
    {
      "name": "New Customer Account Setup",
      "description": "Testing account information flow for new customers with professional greeting and identification validation",
      "persona": "New Customer Seeking Account Information",
      "userVariables": {
        "customerName": "Emily Rodriguez",
        "accountNumber": "NEW-54321",
        "customerType": "new",
        "inquiryType": "account_setup"
      },
      "subObjectives": [
        {
          "description": "Bot provides initial greeting and welcome message",
          "instructions": "Start with a simple hello and expect a warm, professional greeting that welcomes you to the banking service. This objective should be evaluated later in the conversation to demonstrate BOT-6235 fix.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot maintains professional and helpful tone throughout conversation",
          "instructions": "Continue the conversation naturally and expect the bot to consistently maintain a professional, courteous tone in recent interactions.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 4
          }
        },
        {
          "description": "Bot asks for and acknowledges customer identification",
          "instructions": "Provide your name and expect the bot to ask for identification details and acknowledge them appropriately.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "latest_match",
            "recentTurnCount": 8
          }
        },
        {
          "description": "Bot provides accurate current account information when requested",
          "instructions": "Ask for your current account details and expect accurate, up-to-date information in the immediate response.",
          "isBlocking": true,
          "onFailure": "escalate_to_human",
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 5
          }
        }
      ]
    },
    {
      "name": "Complex Issue Resolution",
      "description": "Testing frustration handling, context gathering, and escalation procedures for complex customer issues",
      "persona": "Frustrated Customer with Complex Issue",
      "userVariables": {
        "customerName": "Michael Chen",
        "accountNumber": "PREM-98765",
        "customerType": "premium",
        "issueType": "transaction_dispute",
        "frustrationLevel": "high"
      },
      "subObjectives": [
        {
          "description": "Bot acknowledges customer frustration appropriately",
          "instructions": "Express frustration about a banking issue and expect the bot to acknowledge and empathize with your concerns in recent responses.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 3
          }
        },
        {
          "description": "Bot gathers complete problem context through multiple questions",
          "instructions": "Describe your issue gradually and expect the bot to ask follow-up questions to understand the complete situation over several turns.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 10
          }
        },
        {
          "description": "Bot offers human escalation when unable to resolve issue",
          "instructions": "Continue expressing dissatisfaction with automated solutions and expect the bot to eventually offer human agent assistance.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 12
          }
        },
        {
          "description": "Bot provides case reference number for follow-up",
          "instructions": "When escalation is offered, expect the bot to provide a reference number for tracking your case.",
          "isBlocking": true,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "latest_match",
            "recentTurnCount": 3
          }
        }
      ]
    },
    {
      "name": "Business Service Exploration",
      "description": "Testing business customer recognition, service information delivery, and specialist connection processes",
      "persona": "Business Customer Exploring Services",
      "userVariables": {
        "customerName": "Sarah Thompson",
        "accountNumber": "BIZ-11223",
        "customerType": "business",
        "companyName": "Thompson Consulting LLC",
        "inquiryType": "service_expansion"
      },
      "subObjectives": [
        {
          "description": "Bot recognizes and addresses business customer status",
          "instructions": "Mention your business account and company name, expecting the bot to acknowledge your business customer status at some point in the conversation.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 8
          }
        },
        {
          "description": "Bot provides business-specific service information",
          "instructions": "Ask about business banking services and expect detailed information about business-focused products and solutions.",
          "isBlocking": true,
          "onFailure": null,
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot offers to connect with business banking specialist",
          "instructions": "Express interest in advanced business services and expect the bot to offer connection with a business banking specialist.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "any",
            "evaluationStrategy": "latest_match",
            "recentTurnCount": 6
          }
        }
      ]
    },
    {
      "name": "Security Validation Process",
      "description": "Testing authentication requirements, security advice delivery, and account protection measures",
      "persona": "Security-Conscious Customer",
      "userVariables": {
        "customerName": "David Kim",
        "accountNumber": "SEC-77889",
        "customerType": "security_focused",
        "concernType": "account_security"
      },
      "subObjectives": [
        {
          "description": "Bot requests proper authentication before sharing sensitive information",
          "instructions": "Ask for account information and expect the bot to request authentication details before providing sensitive data.",
          "isBlocking": true,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "first_match",
            "recentTurnCount": 4
          }
        },
        {
          "description": "Bot provides security tips and best practices",
          "instructions": "Ask about account security and expect the bot to provide relevant security advice and best practices.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "current",
            "evaluationStrategy": "best_match",
            "recentTurnCount": 5
          }
        },
        {
          "description": "Bot confirms security measures are in place",
          "instructions": "Express security concerns and expect the bot to reassure you about security measures protecting your account.",
          "isBlocking": false,
          "onFailure": null,
          "turnMatching": {
            "scope": "recent",
            "evaluationStrategy": "latest_match",
            "recentTurnCount": 5
          }
        }
      ]
    }
  ]
}